<div
  class="bg-[rgba(182,191,200,0.47)] rounded-4xl w-[700px] h-[450px] shadow-[inset_0_0_15px_rgba(0,0,0,0.1)] backdrop-blur-[9.3px] border border-[rgba(237,238,243,0.3)] p-4 box-border flex justify-end"
>
  @if (selectedTask){
  <div
    class="bg-[rgba(255,255,255,0.86)] shadow-[inset_0_0_15px_rgba(0,0,0,0.15)] w-1/3 h-full rounded-4xl backdrop-blur-[10.7px] border border-[rgba(255,255,255,0.07)] flex flex-col box-border mr-2"
  >
    <app-sidebar [task]="selectedTask" />
  </div>
  }

  <div
    class="bg-[rgba(255,255,255,0.86)] shadow-[inset_0_0_15px_rgba(0,0,0,0.15)] w-2/3 h-full rounded-4xl backdrop-blur-[10.7px] border border-[rgba(255,255,255,0.07)] flex flex-col box-border relative"
  >
    <div class="flex flex-col pt-6 px-6 mt-2 pb-4">
      <p class="text-gray-400 text-sm font-semibold">{{ todayFormatted }}</p>
      <h1 class="text-black text-2xl font-bold">My Daily Tasks</h1>
    </div>

    <div class="mx-4 flex flex-col justify-end items-end">
      <z-progress-bar
        [progress]="percentage()"
        zFull="true"
        zSize="default"
        class="bg-gray-200"
        barClass="bg-blue-600 rounded"
      ></z-progress-bar>

      <p class="text-xs font-semibold text-gray-400">{{ finishedTask() }} / {{ totalTask() }}</p>
    </div>

    <div class="flex-1 flex items-start justify-center mt-2">
      <div class="h-[80%] w-[90%] p-2 flex flex-col gap-3 overflow-y-auto cursor-pointer">
        @for (task of taskList(); track task.id) {
        <app-taskcard [task]="task" (select)="onTaskSelect(task)" (toggleTask)="toggleTask(task)" />
        }
      </div>
    </div>

    <z-button
      class="absolute bottom-4 right-10 bg-blue-500 shadow-md text-white text-lg font-bold rounded-full w-10 h-10 flex items-center justify-center hover:scale-105 transition-all"
      zSize="sm"
    >
      +
    </z-button>
  </div>
</div>
